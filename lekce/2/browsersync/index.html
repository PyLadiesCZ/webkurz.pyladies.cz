<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PyLadies: Kurz webového frontendu</title>
    <link rel="stylesheet" href="/dist/index.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4d4d4d">
    <meta name="theme-color" content="#ffffff">
</head>
<body>

<div class="container is-fluid">
    <h1 class="title is-1 c-main-title"><a href="/index.html">PyLadies: Kurz webového frontendu</a></h1>

    <div class="columns">
        <div class="column c-main">
            <div class="tile is-ancestor">
                <div class="tile">
                    <div class="tile is-vertical">
                        <div class="tile is-vertical" data-markdown="">
                            <div class="tile">
                                <div class="tile is-parent is-3">
                                    <div class="tile is-child notification undefined">
                                        <div class="content"><h1>Flask a Browsersync</h1></div>
                                    </div>
                                </div>
                                <div class="tile is-vertical">
                                    <div class="tile is-parent">
                                        <div class="tile is-child notification undefined">
                                            <div class="content"><p>Od začátku lekce platí, že pokud chceme vidět změny, které jsme provedli v našich
                                                souborech, musíme jít do prohlížeče a obnovit stránku. Z minulých lekcí ale víme,
                                                že s nástrojem Browsersync to není nutné.</p>
                                                <p>Aby Browsersync správně fungoval s Flaskem, musíme změnit jeho konfiguraci
                                                    v souboru <code>gulpfile.js</code>:</p>
                                                <pre><code class="lang-js"><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>);
<span class="hljs-keyword">var</span> browserSync = <span class="hljs-built_in">require</span>(<span class="hljs-string">'browser-sync'</span>);
<span class="hljs-keyword">var</span> exec = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>).exec;

gulp.task(<span class="hljs-string">'runserver'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> proc = exec(<span class="hljs-string">'python web.py'</span>);
});

gulp.task(<span class="hljs-string">'default'</span>, [<span class="hljs-string">'runserver'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    browserSync({
        <span class="hljs-attr">proxy</span>: {
            <span class="hljs-attr">target</span>: <span class="hljs-string">'127.0.0.1:5000'</span>
        },
        <span class="hljs-attr">files</span>: [
            <span class="hljs-string">'templates/*.*'</span>,
            <span class="hljs-string">'static/*.*'</span>
        ]
    });
});
</code></pre>
                                                <p>První část znamená, že když napíšeme <code>gulp runserver</code>, spustí Gulp náš vývojový server
                                                    z Flasku. Vlastně udělá totéž, jako jsme dělali my, když jsme psali <code>python web.py</code> do konzole.</p>
                                                <p>V části označené jako <code>default</code> Gulp nejdřív jakoby zavolá <code>gulp runserver</code>, čímž spustí
                                                    Flask server, a potom se na něj pokusí napojit (to je ten řádek s <code>proxy</code>). Zbytek znamená,
                                                    že Gulp bude sledovat soubory jakéhokoliv typu ve složkách <code>templates</code> a <code>static</code> a pokud se
                                                    něco změní, automaticky obnoví stránku i v prohlížeči.</p>
                                                <p>Nyní už nebudeme naši Flask aplikaci pouštět přes <code>python web.py</code>, ale napíšeme pouze <code>gulp</code>.
                                                    Mělo by se vše správně načíst a naše stránka rovnou otevřít v prohlížeči.</p>
                                                <p>Poznámka: aby Browsersync fungoval, musí mít stránka alespoň tag <code>&lt;body&gt;&lt;/body&gt;</code>.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="column is-narrow c-menu"></div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="content has-text-right">
                <p>
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Licence Creative Commons" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
                    <br>Obsah těchto stránek je dostupný pod licencí
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0</a>.
                    <br>Znamená to, že musíte uvést zdroj, neužívat dílo nebo jeho deriváty komerčně a musíte zachovat licenci.
                </p>
                <p>Výjimkou jsou stránky, kde je licence uvedena jinak.</p>
            </div>
        </div>
    </footer>

</div>

<script src="http://webkurz.pyladies.cz/dist/all.js" async defer></script>
</body>
</html>

